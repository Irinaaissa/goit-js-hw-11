{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst searchForm = document.getElementById('search-form');\nconst searchInput = document.getElementById('search-input');\nconst gallery = document.getElementById('gallery');\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '41471340-7b105b7a368edb6edd340273b';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n});\nconst loader = document.querySelector('.loader');\n\nfunction showLoadingIndicator() {\n    loader.style.display = 'block';\n}\n\nfunction hideLoadingIndicator() {\n    loader.style.display = 'none';\n}\n\nsearchForm.addEventListener('submit', async event => {\n    event.preventDefault();\n\n    const query = searchInput.value;\n\n    if (query.trim() === '') {\n        iziToast.error({\n            title: 'Error',\n            message: 'Sorry, there are no images matching your search',\n        });\n\n        return hideLoadingIndicator();\n    }\n\n    showLoadingIndicator();\n\n    try {\n        const response = await fetch(`${BASE_URL}?key=${API_KEY}&q=${query}`);\n\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n\n        const { hits } = await response.json();\n\n        gallery.innerHTML = '';\n\n        const markup = hits\n            .map(\n                ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\" download=\"none\">\n            <img\n              class=\"gallery-image\"\n              src=\"${webformatURL}\"\n              data-source=\"${largeImageURL}\"\n              alt=\"${tags}\"\n            />\n          </a>\n          <div class=\"card-info\">\n          <div class=\"field\">\n              <span class=\"label\">Likes</span>\n              <span class=\"value\">${likes}</span>    \n          </div>\n          \n          <div class=\"field\">\n              <span class=\"label\">Views</span>\n              <span class=\"value\">${views}</span>   \n          </div>\n          <div class=\"field\">\n              <span class=\"label\">Comments</span>\n              <span class=\"value\">${comments}</span>    \n          </div>\n          <div class=\"field\">\n              <span class=\"label\">Downloads</span>\n              <span class=\"value\">${downloads}</span>    \n          </div>\n          </div>\n        </li>\n      `\n            )\n            .join('');\n\n        gallery.insertAdjacentHTML('beforeend', markup);\n\n        lightbox.refresh();\n    } catch (error) {\n        console.error(error);\n    } finally {\n        hideLoadingIndicator();\n        event.target.reset();\n    }\n});\n"],"names":["searchForm","searchInput","gallery","BASE_URL","API_KEY","lightbox","SimpleLightbox","loader","showLoadingIndicator","hideLoadingIndicator","event","query","iziToast","response","hits","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","error"],"mappings":"6vBAMA,MAAMA,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAU,SAAS,eAAe,SAAS,EAE3CC,EAAW,2BACXC,EAAU,qCAEVC,EAAW,IAAIC,EAAe,aAAc,CAC9C,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAC,EACKC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,GAAuB,CAC5BD,EAAO,MAAM,QAAU,OAC3B,CAEA,SAASE,GAAuB,CAC5BF,EAAO,MAAM,QAAU,MAC3B,CAEAP,EAAW,iBAAiB,SAAU,MAAMU,GAAS,CACjDA,EAAM,eAAc,EAEpB,MAAMC,EAAQV,EAAY,MAE1B,GAAIU,EAAM,KAAM,IAAK,GACjB,OAAAC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,iDACrB,CAAS,EAEMH,EAAoB,EAG/BD,IAEA,GAAI,CACA,MAAMK,EAAW,MAAM,MAAM,GAAGV,SAAgBC,OAAaO,GAAO,EAEpE,GAAI,CAACE,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGnC,KAAM,CAAE,KAAAC,CAAM,EAAG,MAAMD,EAAS,KAAI,EAEpCX,EAAQ,UAAY,GAEpB,MAAMa,EAASD,EACV,IACG,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,0CAEpDL;AAAA;AAAA;AAAA,qBAGrBD;AAAA,6BACQC;AAAA,qBACRC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAMeC;AAAA;AAAA;AAAA;AAAA;AAAA,oCAKAC;AAAA;AAAA;AAAA;AAAA,oCAIAC;AAAA;AAAA;AAAA;AAAA,oCAIAC;AAAA;AAAA;AAAA;AAAA,OAKvB,EACA,KAAK,EAAE,EAEZpB,EAAQ,mBAAmB,YAAaa,CAAM,EAE9CV,EAAS,QAAO,CACnB,OAAQkB,EAAP,CACE,QAAQ,MAAMA,CAAK,CAC3B,QAAc,CACNd,IACAC,EAAM,OAAO,OAChB,CACL,CAAC"}